"use strict";function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#hint"),t=document.querySelector(".skills__hint");e.addEventListener("mouseenter",(function(){t.style.opacity="1"})),e.addEventListener("mouseleave",(function(){t.style.opacity="0"}));var n=document.querySelectorAll(".header__item a");n.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n,o=document.querySelector(e.hash);n=o,window.scroll({top:n.offsetTop,left:0,behavior:"smooth"})}))}));var o=document.querySelector(".aboutMe__description"),r=document.querySelectorAll(".aboutMe__block"),c=document.querySelector(".portfolio__works"),a=document.querySelectorAll(".portfolio__work"),l=function(e,t,n){var o=e.getBoundingClientRect().height,r=e.getBoundingClientRect().bottom;window.innerHeight+o>r&&t.forEach((function(e){e.classList.remove(n)}))};window.addEventListener("scroll",(function(){l(o,r,"aboutMe__active"),l(c,a,"portfolio__active")}));var i,u;document.querySelector(".skills__active-first"),document.querySelector(".skills__active-second"),document.querySelector(".skills__active-third");i=".skills__circle",u=document.querySelectorAll(i),[].forEach.call(u,(function(e){var t=parseFloat(e.innerHTML);t=408*t/100,e.innerHTML='<svg width="160" height="160"><circle transform="rotate(-90)" r="65" cx="-80" cy="80" /><circle transform="rotate(-90)" style="stroke-dasharray:'+t+'px 408px;" r="65" cx="-80" cy="80" /></svg>'}));!function(){function e(e){var t,n,o=0,r="+7 (___) ___ __ __".replace(/\D/g,""),c=this.value.replace(/\D/g,"");r.length>=c.length&&(c=r),this.value="+7 (___) ___ __ __".replace(/./g,(function(e){return/[_\d]/.test(e)&&o<c.length?c.charAt(o++):o>=c.length?"":e})),"blur"===e.type&&(2==this.value.length?this.value="":(t=this.value.length,(n=this).setSelectionRange?n.setSelectionRange(t,t):n.createTextRange&&(range.collapse(!0),range.moveEnd("character",t),range.moveStart("character",t),range.select())))}document.querySelectorAll('[name="phone"]').forEach((function(t){t.addEventListener("input",e),t.addEventListener("focus",e),t.addEventListener("blur",e)}))}();var s=document.querySelector(".contact__form"),d=document.querySelectorAll(".contact__spinner");s.addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector(".contact__btn"),n="Что-то пошло не так!",o="Спасибо за сообщение!",r=function(e){d.forEach((function(t){t.style.display=e}))},c=function(e,t){var n=document.createElement("p");n.style.color="red",n.textContent=e,t.after(n),setTimeout((function(){n.style.display="none"}),1500)};r("block");var a=new FormData(s);fetch("../mailer/smart.php",{method:"POST",body:a}).then((function(){r("none"),c(o,t)})).catch((function(e){c(n,t)})).finally((function(){s.reset()}))}))}));